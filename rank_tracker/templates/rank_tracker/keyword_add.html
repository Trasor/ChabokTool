{% extends 'layout/layout.html' %}
{% load static %}

{% block title %}Ø§ÙØ²ÙˆØ¯Ù† Ú©Ù„Ù…Ø§Øª Ú©Ù„ÛŒØ¯ÛŒ - {{ project.project_name }}{% endblock %}

{% block content %}
<div class="container-fluid">
    <div class="row mb-4">
        <div class="col-12">
            <div class="d-flex justify-content-between align-items-center">
                <h1 class="h3 mb-0 text-gray-800">Ø§ÙØ²ÙˆØ¯Ù† Ú©Ù„Ù…Ø§Øª Ú©Ù„ÛŒØ¯ÛŒ</h1>
                <a href="{% url 'rank_tracker:project_detail' project.id %}" class="btn btn-secondary">
                    <i class="ri-arrow-right-line"></i> Ø¨Ø§Ø²Ú¯Ø´Øª Ø¨Ù‡ Ù¾Ø±ÙˆÚ˜Ù‡
                </a>
            </div>
        </div>
    </div>

    <div class="row mb-3">
        <div class="col-12">
            <div class="card bg-light">
                <div class="card-body">
                    <h5><i class="ri-information-line"></i> Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ù¾Ø±ÙˆÚ˜Ù‡</h5>
                    <p class="mb-0">
                        <strong>Ù†Ø§Ù… Ù¾Ø±ÙˆÚ˜Ù‡:</strong> {{ project.project_name }} |
                        <strong>Ø¯Ø§Ù…Ù†Ù‡:</strong> {{ project.target_domain }} |
                        <strong>Ø¸Ø±ÙÛŒØª:</strong> {{ project.keywords_count }} / {{ project.keyword_capacity }}
                        <span class="badge bg-{% if project.keywords_count >= project.keyword_capacity %}danger{% else %}success{% endif %}">
                            {{ project.keyword_capacity|add:"-"|add:project.keywords_count }} Ø¨Ø§Ù‚ÛŒÙ…Ø§Ù†Ø¯Ù‡
                        </span>
                    </p>
                </div>
            </div>
        </div>
    </div>

    <div class="row">
        <!-- ÙØ±Ù… Ø¯Ø³ØªÛŒ -->
        <div class="col-lg-6 mb-4">
            <div class="card h-100">
                <div class="card-header bg-primary text-white">
                    <h5 class="mb-0"><i class="ri-keyboard-line"></i> Ø±ÙˆØ´ 1: ÙˆØ±ÙˆØ¯ Ø¯Ø³ØªÛŒ</h5>
                </div>
                <div class="card-body">
                    <form method="post">
                        {% csrf_token %}

                        <div class="mb-3">
                            <label for="{{ manual_form.keywords.id_for_label }}" class="form-label">
                                {{ manual_form.keywords.label }}
                            </label>
                            {{ manual_form.keywords }}
                            <small class="form-text text-muted">
                                {{ manual_form.keywords.help_text }}
                            </small>
                            {% if manual_form.keywords.errors %}
                                <div class="text-danger mt-2">
                                    {% for error in manual_form.keywords.errors %}
                                        {{ error }}
                                    {% endfor %}
                                </div>
                            {% endif %}
                        </div>

                        <div class="alert alert-info">
                            <strong>Ù†Ú©Ø§Øª:</strong>
                            <ul class="mb-0">
                                <li>Ù‡Ø± Ú©Ù„Ù…Ù‡ Ø¯Ø± ÛŒÚ© Ø®Ø· Ø¬Ø¯Ø§Ú¯Ø§Ù†Ù‡</li>
                                <li>Ú©Ù„Ù…Ø§Øª ØªÚ©Ø±Ø§Ø±ÛŒ Ù†Ø§Ø¯ÛŒØ¯Ù‡ Ú¯Ø±ÙØªÙ‡ Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯</li>
                                <li>Ø­Ø¯Ø§Ú©Ø«Ø± ØªØ§ Ø¸Ø±ÙÛŒØª Ø¨Ø§Ù‚ÛŒâ€ŒÙ…Ø§Ù†Ø¯Ù‡</li>
                            </ul>
                        </div>

                        <button type="submit" class="btn btn-primary btn-lg w-100">
                            <i class="ri-add-line"></i> Ø§ÙØ²ÙˆØ¯Ù† Ú©Ù„Ù…Ø§Øª
                        </button>
                    </form>
                </div>
            </div>
        </div>

        <!-- ÙØ±Ù… Ø¢Ù¾Ù„ÙˆØ¯ Excel -->
        <div class="col-lg-6 mb-4">
            <div class="card h-100">
                <div class="card-header bg-success text-white">
                    <h5 class="mb-0"><i class="ri-file-excel-2-line"></i> Ø±ÙˆØ´ 2: Ø¢Ù¾Ù„ÙˆØ¯ Excel</h5>
                </div>
                <div class="card-body">
                    <form method="post" enctype="multipart/form-data">
                        {% csrf_token %}

                        <div class="mb-3">
                            <label for="{{ import_form.file.id_for_label }}" class="form-label">
                                {{ import_form.file.label }}
                            </label>
                            {{ import_form.file }}
                            <small class="form-text text-muted">
                                {{ import_form.file.help_text }}
                            </small>
                            {% if import_form.file.errors %}
                                <div class="text-danger mt-2">
                                    {% for error in import_form.file.errors %}
                                        {{ error }}
                                    {% endfor %}
                                </div>
                            {% endif %}
                        </div>

                        <div class="alert alert-warning">
                            <strong>ÙØ±Ù…Øª ÙØ§ÛŒÙ„:</strong>
                            <ul class="mb-0">
                                <li>ÙÙ‚Ø· ÛŒÚ© Ø³ØªÙˆÙ† Ø¨Ø§ Ù†Ø§Ù… <code>keyword</code></li>
                                <li>Ø§ÙˆÙ„ÛŒÙ† Ø³Ø·Ø±: Ù‡Ø¯Ø± (keyword)</li>
                                <li>Ø³Ø·Ø±Ù‡Ø§ÛŒ Ø¨Ø¹Ø¯ÛŒ: Ú©Ù„Ù…Ø§Øª Ú©Ù„ÛŒØ¯ÛŒ</li>
                                <li>ÙØ±Ù…Øª: .xlsx ÛŒØ§ .xls</li>
                                <li>Ø­Ø¯Ø§Ú©Ø«Ø± Ø­Ø¬Ù…: 2 Ù…Ú¯Ø§Ø¨Ø§ÛŒØª</li>
                            </ul>
                        </div>

                        <div class="d-grid gap-2">
                            <button type="submit" class="btn btn-success btn-lg">
                                <i class="ri-upload-2-line"></i> Ø¢Ù¾Ù„ÙˆØ¯ Ùˆ Ø§ÙØ²ÙˆØ¯Ù†
                            </button>
                            <a href="{% url 'rank_tracker:download_sample' %}" class="btn btn-outline-secondary">
                                <i class="ri-download-line"></i> Ø¯Ø§Ù†Ù„ÙˆØ¯ ÙØ§ÛŒÙ„ Ù†Ù…ÙˆÙ†Ù‡
                            </a>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- Ù†Ù…ÙˆÙ†Ù‡ ÙØ±Ù…Øª Excel -->
    <div class="row">
        <div class="col-12">
            <div class="card">
                <div class="card-header">
                    <h5 class="mb-0">ğŸ“‹ Ù†Ù…ÙˆÙ†Ù‡ ÙØ±Ù…Øª Excel</h5>
                </div>
                <div class="card-body">
                    <div class="table-responsive">
                        <table class="table table-bordered">
                            <thead class="table-light">
                                <tr>
                                    <th>keyword</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr><td>Ø®Ø±ÛŒØ¯ Ú¯ÙˆØ´ÛŒ Ù…ÙˆØ¨Ø§ÛŒÙ„</td></tr>
                                <tr><td>Ù‚ÛŒÙ…Øª Ù„Ù¾ ØªØ§Ù¾</td></tr>
                                <tr><td>Ø¨Ù‡ØªØ±ÛŒÙ† ØªØ¨Ù„Øª</td></tr>
                                <tr><td>Ø®Ø±ÛŒØ¯ Ø¢Ù†Ù„Ø§ÛŒÙ†</td></tr>
                                <tr><td>ÙØ±ÙˆØ´Ú¯Ø§Ù‡ Ø§ÛŒÙ†ØªØ±Ù†ØªÛŒ</td></tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}
